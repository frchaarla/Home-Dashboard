name: Deploy static site to Azure Web App    
    
on:    
  push:    
    branches:    
      - main    
  workflow_dispatch:    
    
jobs:    
  deploy:    
    runs-on: windows-latest    
    
    steps:    
      - uses: actions/checkout@v4    
    
      - name: Upload artifact for deployment job    
        uses: actions/upload-artifact@v4    
        with:    
          name: static-site    
          path: ./index.html # Angiv stien til din index.html-fil    
    
      - name: Download artifact from build job    
        uses: actions/download-artifact@v4    
        with:    
          name: static-site    
    
      - name: Deploy to Azure Web App    
        uses: azure/webapps-deploy@v3    
        with:    
          app-name: 'collibrahome'    
          slot-name: 'collibrahome'    
          package: ./index.html    
          publish-profile: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_AB7C5DC50DEF44ECA275B566C4A9ECE1 }}    
